<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
	<head th:replace="fragments/head :: head(Minioasis)">
	    <title>Minioasis Knowledge Graph</title>
	</head>
<body>

	<div class="container pt-2">
	
		<div th:replace="fragments/header :: header"></div>
		
		<table class="table table-sm">
			<tbody>
				<tr>
					<td>Title</td>
					<td th:text="${archive.title}">Title</td>
				</tr>
				<tr>
					<td>Link</td>
					<td th:text="${archive.link}">Link</td>
				</tr>
			</tbody>
		</table>
		
		<h3>Add Parent</h3>
		
		<form action="#" th:action="@{/admin/archive/{id}/search.parent(id=${archive.id})}" method="get">
			<input type="hidden" id="page" name="page" value="0" />
			<input type="hidden" id="size" name="size" value="10" />
			<input type="hidden" id="sort" name="sort" value="title,asc" />
			
			<div class="form-account">
				<input name="title" class="form-control" autofocus="autofocus" placeholder="Search Title"/>
				<input hidden="hidden" type="submit" name="search" value="Submit"/>	
			</div>				
		</form>
		
		<hr>

		Total (Max 10 nos.) : <span th:text="${page?.totalElements}">105</span>
		
		<form id="add_parent_form" action="#" th:action="@{/admin/archive/add.parent}" method="post">
		
			<input hidden="hidden" type="text" name="archiveId"  th:value="${archive.id}"/>
			<input id="parentId" hidden="hidden" type="text" name="parentId" value=""/>
			
			<script> 
		        var parentId = document.getElementById("parentId"); 
		  
		        function mySubmit(id) { 
		        	alert("Hello! I am an alert box!!");
		        	parentId.setAttribute('value', id); 
		        	document.getElementById("add_parent_form").submit();
		        } 
		    </script> 
    		
			<table class="table table-sm">
				<thead>
					<tr>
						<th>#</th>
						<th>Title</th>
						<th>Link</th>
						<th>Actions</th>
					</tr>
				</thead>
	
				<tbody>
					<tr th:each="e,iterator : ${page?.content}">
						<td th:text="${iterator.index + 1} + ${page.number * page.size}">1</td>
						<td th:text="${e.title}">title</td>
						<td th:text="${e.link}">link</td>
						<td>
							<button type="button" class="btn btn-primary rounded-pill" th:onclick="mySubmit([[${e.id}]])">Add Parent</button>
						</td>
					</tr>
					<tr th:remove="all">
						<td>1</td>
						<td>2</td>
						<td>3</td>
						<td>4</td>
					</tr>
				</tbody>
			</table>
		</form>
		
	</div>
</body>
</html>
